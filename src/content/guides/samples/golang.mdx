---
title: Getting Started with Okteto and Go
description: This tutorial will show you how to develop and debug a Go application using Okteto
sidebar_label: Go
id: golang
---

import Image from "@theme/Image";

This tutorial will show you how to develop and debug a Go application using Development Containers.

## Prerequisites

Install and configure the Okteto CLI to access your Okteto instance. Follow the [Okteto CLI installation guide](get-started/install-okteto-cli.mdx) if you haven't done it yet.

## Step 1: Deploy the Go Sample App

Get a local version of the Go Sample App by executing the following commands:

```console
$ git clone https://github.com/okteto/go-getting-started
$ cd go-getting-started
```

At the root of the directory, you'll find the `okteto.yml` file. This file describes how to deploy the application.

```yaml
deploy:
  remote: true
  commands:
    - kubectl apply -f k8s.yml
```

> Using [remote: true](reference/okteto-manifest.mdx#deploy-remotely) instructs Okteto to run the commands in the cluster.

Deploy the application by executing:

```console
$ okteto deploy
```

```console
 i  Using cindy @ okteto.example.com as context
 i  Running kubectl apply -f k8s.yml
deployment.apps/hello-world created
service/hello-world created
ingress.networking.k8s.io/hello-world created
 âœ“  Development environment 'go-getting-started' successfully deployed
```

Log into the Okteto UI and click on the application endpoint:

<Image
  src={require("@site/static/img/okteto-ui.png").default}
  alt="Okteto UI golang"
  width="850"
/>

Did you notice that you're accessing your application through an HTTPs endpoint? This is because Okteto will [automatically create them](core/ingress/automatic-ssl.mdx) for you when you deploy your application. Cool no ðŸ˜Ž?

## Step 2: Activate your Development Container

The [dev](reference/okteto-manifest.mdx#dev-object-optional) section defines how to activate a Development Container for the Go Sample App:

```yaml
dev:
  hello-world:
    image: okteto/golang:1
    command: bash
    sync:
      - .:/usr/src/app
    volumes:
      - /go
      - /root/.cache
    securityContext:
      capabilities:
        add:
          - SYS_PTRACE
    forward:
      - 2345:2345
```

The `hello-world` key matches the name of the hello world Deployment. The meaning of the rest of fields is:

- `image`: the image used by the Development Container
- `command`: the start command of the Development Container
- `sync`: the folders that will be synchronized between your local machine and the Development Container
- `volumes`: a list of paths in your Development Container to be mounted as persistent volumes. For example, this can be used to persist the Go cache
- `securityContext`: `SYS_PTRACE` is a capability required by the Go debugger
- `forward`: a list of ports to forward from your Development Container to locahost in your machine. This is needed to configure the Go debugger

Also, note that there is a `.stignore` file to indicate which files shouldn't be synchronized to your Development Container.
This is useful to avoid synchronizing binaries, build artifacts, git metadata, or dependencies like the `vendor` folder.

Next, execute the following command to activate your Development Container:

```console
$ okteto up
```

```console
 i  Using cindy @ okteto.example.com as context
 i  Development environment 'go-getting-started' already deployed.
 âœ“  Images successfully pulled
 âœ“  Files synchronized
    Context:   okteto.example.com
    Namespace: cindy
    Name:      hello-world
    Forward:   2345 -> 2345

Welcome to your development container. Happy coding!
cindy:hello-world app>
```

Working in your Development Container is the same as working on your local machine.
Start the application by running the following command:

```console
cindy:hello-world app> go run main.go
```

```console
Starting hello-world server...
```

Go back to the browser, and reload the page to test that your application is running.

## Step 4: Remote Development with Okteto

Open the file `main.go` in your favorite local IDE and modify the response message on line 17 to be _Hello world from Okteto!_. Save your changes.

```golang
func helloServer(w http.ResponseWriter, r *http.Request) {
	fmt.Fprint(w, "Hello world from Okteto!")
}
```

Okteto will synchronize your changes to your Development Container.
Cancel the execution of `go run main.go` from the Development Container shell by pressing `ctrl + c`.
Rerun your application:

```console
cindy:hello-world app> go run main.go
```

```console
Starting hello-world server...
```

Go back to the browser and reload the page. Your code changes were instantly applied. No commit, build, or push required ðŸ˜Ž!

## Step 5: Remote debugging wtih Okteto

Okteto enables you to debug your applications directly from your favorite IDE.
Let's take a look at how that works in VS Code, one of the most popular IDEs for Go development.
If you haven't done it yet, install the [Go extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode.Go) available from Visual Studio marketplace.

Cancel the execution of `go run main.go` from the Development Container shell by pressing `ctrl + c`.
Rerun your application in debug mode:

```console
cindy:hello-world app> dlv debug --headless --listen=:2345 --log --api-version=2
```

```console
API server listening at: [::]:2345
2019-10-17T14:39:24Z info layer=debugger launching process with args: [/usr/src/app/__debug_bin]
```

In your local machine, open VS Code, and install the [Go extension](https://marketplace.visualstudio.com/items?itemName=ms-vscode.Go).

The sample application is already configured for remote debugging.
Open the _Debug_ view in VS Code and run the _Connect to okteto_ debug configuration (or just press the F5 shortcut) to start the remote debugger:

```json
{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Connect to okteto",
      "type": "go",
      "request": "attach",
      "mode": "remote",
      "remotePath": "/usr/src/app",
      "port": 2345,
      "host": "127.0.0.1"
    }
  ]
}
```

> You should be replacing the value of `remotePath` with wherever your application code is.

Add a breakpoint on `main.go`, line 17. Go back to the browser, and reload the page.
The execution will halt at your breakpoint. You can then inspect the request, the available variables, etc...

<Image
  src={require("@site/static/img/golang-debug.png").default}
  alt="debugging in Okteto with golang"
  width="850"
/>

Your code is executing in Okteto, but you can debug it from your local machine without any extra services or tools.
Pretty cool no? ðŸ˜‰

## Next steps

Congratulations, you just developed **your first application in Okteto** ðŸš€.

Okteto lets you develop your applications directly on Kubernetes. This way you can:

- Eliminate integration issues by developing in a realistic environment
- Test your application end to end as fast as you type code
- No more CPU cycles wasted in your machine. Develop at the speed of the cloud!

Next, learn more about customizing your [development images](deploy/development-environments.mdx) for a better developer experience.
