---
title: Getting Started with Okteto and Java
description: This tutorial will show you how to develop and debug a Java application using Okteto
sidebar_label: Java
id: java
---

import Image from "@theme/Image";

This tutorial will show you how to develop and debug a Java application using Development Containers.

## Prerequisites

Install and configure the Okteto CLI to access your Okteto instance. Follow the [Okteto CLI installation guide](get-started/install-okteto-cli.mdx) if you haven't done it yet.

## Step 1: Deploy the Java Sample App

Get a local version of the Java Sample App by executing the following commands:

#### Maven

```console
$ git clone https://github.com/okteto/java-maven-getting-started
$ cd java-maven-getting-started
```

#### Gradle

```console
$ git clone https://github.com/okteto/java-gradle-getting-started
$ cd java-gradle-getting-started
```

At the root of the directory, you'll find the `okteto.yml` file. This file describes how to deploy the application.

#### Maven

```yaml
deploy:
  - kubectl apply -f k8s.yml
```

#### Gradle

```yaml
deploy:
  - kubectl apply -f k8s.yml
```

Deploy the application by executing:

```console
$ okteto deploy
```

#### Maven

```console
 i  Using cindy @ okteto.example.com as context
 i  Running kubectl apply -f k8s.yml
deployment.apps/hello-world created
service/hello-world created
ingress.networking.k8s.io/hello-world created
 âœ“  Development environment 'java-maven-getting-started' successfully deployed
```

#### Gradle

```console
 i  Using cindy @ okteto.example.com as context
 i  Running kubectl apply -f k8s.yml
deployment.apps/hello-world created
service/hello-world created
ingress.networking.k8s.io/hello-world created
 âœ“  Development environment 'java-gradle-getting-started' successfully deployed
```

Log into the Okteto UI and click on the application endpoint:

<Image
  src={require("@site/static/img/okteto-ui.png").default}
  alt="Okteto UI Java"
  width="850"
/>

Did you notice that you're accessing your application through an HTTPs endpoint? This is because Okteto will [automatically create them](core/ingress/automatic-ssl.mdx) for you when you deploy your application. Cool no ðŸ˜Ž?

## Step 2: Activate your Development Container

The [dev](reference/okteto-manifest.mdx#dev-object-optional) section defines how to activate a Development Container for the Java Sample App

#### Maven

```yaml
dev:
  hello-world:
    image: okteto/maven:3
    command: bash
    sync:
      - .:/usr/src/app
    forward:
      - 5005:5005
    volumes:
      - /root/.m2
```

#### Gradle

```yaml
dev:
  hello-world:
    image: okteto/gradle:6.5
    command: bash
    sync:
      - .:/usr/src/app
    forward:
      - 5005:5005
    volumes:
      - /home/gradle/.gradle
```

The `hello-world` key matches the name of the hello world Deployment. The meaning of the rest of fields is:

- `image`: the image used by the Development Container
- `command`: the start command of the Development Container
- `sync`: the folders that will be synchronized between your local machine and the Development Container
- `forward`: a list of ports to forward from your Development Container
- `volumes`: a list of paths in your Development Container to be mounted as persistent volumes. This is useful to persist the maven/gradle caches

Also, note that there is a `.stignore` file to indicate which files shouldn't be synchronized to your Development Container.
This is useful to avoid synchronizing binaries, build artifacts, or git metadata.

## Step 3: Activate your Development Container

Next, execute the following command to activate your Development Container:

```console
$ okteto up
```

```console
 âœ“  Persistent volume successfully attached
 âœ“  Images successfully pulled
 âœ“  Files synchronized
    Namespace: cindy
    Name:      hello-world
    Forward:   5005 -> 5005

Welcome to your development container. Happy coding!
cindy:hello-world app>
```

Working in your Development Container is the same as working on your local machine.
Start the application by running the following command:

#### Maven

```console
default:hello-world app> mvn spring-boot:run
```

#### Gradle

```console
default:hello-world app> gradle bootRun
```

The first time you run the application, Maven/Gradle will compile your application. Wait for this process to finish.

Go back to the browser and reload the page to test that your application is running.

## Step 4: Remote Development with Okteto

Open `src/main/java/com/okteto/helloworld/RestHelloWorld.java` in your favorite local IDE and modify the response message on line 11 to be _Hello world from Okteto!_. Save your changes.

```java
package com.okteto.helloworld;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class RestHelloWorld {

	@GetMapping("/")
	public String sayHello() {
		return "Hello world from Okteto!";
	}
}
```

Your IDE will auto compile only the necessary `*.class` files which will be synchronized by Okteto to your remote environment. Take a look at the Development Container shell and notice how the changes are detected by Spring Boot and automatically hot reloaded.

> Import the `spring-boot-devtools` dependency to automatically restart your Java application whenever a file is changed.

Go back to the browser and reload the page. Your code changes were instantly applied. No commit, build, or push required ðŸ˜Ž!

## Step 5: Remote debugging with Okteto

Okteto enables you to debug your applications directly from your favorite IDE. Let's take a look at how that works in IntelliJ, one of the most popular IDEs for Java development.

> Add the following JVM arguments in the Gradle/Maven configuration files to enable remote debugging in your Java application:
>
> `-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005`

### Create the debug configuration on IntelliJ

1. From the main menu, select Run | Edit Configurations.
1. In the Run/Debug Configuration dialog, click + on the toolbar or press `âŒ˜ N`. The list shows the run/debug configuration templates. Select Remote JVM Debug.
1. Specify the run/debug configuration name in the Name field. This name will be shown in the list of the available run/debug configurations.
1. In the Configuration section, specify the parameters listed below:
   - Debugger Mode: `Attach to remote JVM`
   - Host: `localhost`
   - Port: `5005` (this should match the port forwared on your Okteto manifest file)
   - Command line arguments for remote JVM: `-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005`
1. Apply the changes and close the dialog.

<Image
  src={require("@site/static/img/java-debug.png").default}
  alt="debugging in Okteto with Java"
  width="850"
/>

### Start the remote debugging session

Select the debug action you just added, and click on the debug button to start the remote debugging session.

Add a breakpoint on `src/main/java/es/okteto/helloworld/RestHelloWorld.java`, line 11. Go back to the browser and reload the page. The execution will halt at your breakpoint. You can then inspect the request, the available variables, etc...

<Image
  src={require("@site/static/img/java-halt.png").default}
  alt="breakpoint in Java"
  width="850"
/>

Your code is executing in your remote development environment, but you can debug it from your local machine without any extra services or tools. Pretty cool no? ðŸ˜‰

## Next steps

Congratulations, you just developed **your first application in Okteto** ðŸš€.

Okteto lets you develop your applications directly on Kubernetes. This way you can:

- Eliminate integration issues by developing in a realistic environment
- Test your application end to end as fast as you type code
- No more CPU cycles wasted in your machine. Develop at the speed of the cloud!

Next, learn more about customizing your [development images](deploy/development-environments.mdx) for a better developer experience.
