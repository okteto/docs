---
title: AI Agent Fleets - Admin Configuration Guide
description: In this section, we will show you how to configure AI Agent Fleets for your team
sidebar_label: Admin Configuration Guide
id: ai-agent-fleets-admin-config
---

import Image from "@theme/Image";

This guide covers the complete setup and configuration process for enabling AI Agent Fleets in your Okteto organization.

## Prerequisites
Before configuring AI Agent Fleets, ensure you have:

- Administrator access to your Okteto organization
- An API key from either Anthropic or AWS (for Amazon Bedrock)
- A Git token for repository integration (if not, we'll help you set one up)

## Enabling AI Agent Fleets for your organization

### Step 1: Enable AI Agent Fleets

- From the Okteto Admin Dashboard, navigate to **Admin -> AI Agent Fleets** underneath the Settings Section
- Toggle the AI Agent Fleets switch to enable the feature for your organization

<p align="center">
  <Image
    src={require("@site/static/img/admin_ai_agent_fleets.png").default}
    alt="AI Agent Fleets Admin Dashboard"
    width="800"
  />
</p>


### Step 2: Configure Access Control

Choose who can use AI Agent Fleets in your organization:

#### Option A: Enable for All Users

- Select All users to grant access to everyone in your organization
- This is recommended for smaller teams or companies already familiar with the product

#### Option B: Enable for Selected Users

- Select `Selected users`
- Click the users view link to navigate to the user management tab
- Select the specific users who should have access to AI Agent Fleets

Note: Users without access will not see the Agents tab in their dashboard.

### Step 4: Configure Your LLM Provider

AI Agent Fleets requires an LLM provider to power the Okteto AI Agents. Choose between Anthropic (direct) or via Amazon Bedrock.

#### Option A: Anthropic Configuration
Use this option for direct integration with Anthropic's API.

<p align="center">
  <Image
    src={require("@site/static/img/admin_ai_llm_provider_config_anthropic.png").default}
    alt="AI Agent Fleets LLM Provider Configuration"
    width="800"
  />
</p>

1. **Select Provider**: Choose **Anthropic** from the Provider dropdown
2. Obtain API Key:
  - Click the "Get your Anthropic API key →" link
  - Sign in to your [Anthropic account](https://console.anthropic.com/) (or create one)
  - Navigate to [API Keys section](https://console.anthropic.com/settings/keys)
  - Create a new API key with appropriate permissions
  - Copy the key

3. **Enter API Key**: Click Update and paste your Anthropic API key in the field
4. **Save Configuration**: Click Save to save your settings

#### Option B: Amazon Bedrock Configuration
Use this option if your organization prefers AWS-managed AI services.

<p align="center">
  <Image
    src={require("@site/static/img/admin_ai_llm_provider_config_bedrock.png").default}
    alt="AI Agent Fleets LLM Provider Configuration for Bedrock"
    width="800"
  />
</p>

1. **Select Provider**: Choose **Amazon Bedrock** from the Provider dropdown
2. **Configure Region**:
  - Select the AWS region where you have Bedrock enabled
  - Common regions: `us-east-1`, `us-west-2`, `eu-west-1`
  - Ensure Claude models are available in your selected region

3. **Set Up AWS Credentials**:
  - Click "Get your Bedrock API key →" for setup instructions
  - You'll need either:
    - AWS Access Key ID and Secret Access Key
    - IAM role with appropriate Bedrock permissions

4. **Required AWS Permissions**:
```
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "bedrock:InvokeModel",
        "bedrock:InvokeModelWithResponseStream"
      ],
      "Resource": "arn:aws:bedrock:*:*:model/anthropic.claude-*"
    }
  ]
}
```

5. **Enter Credentials**: Add your AWS credentials in the API Key field
6. **Save Configuration**: Click Save to complete the configuration

### Step 5: Configure LLM Model
The LLM Model section shows which Claude model is being used:
- Currently, agents use Claude Sonnet 4, optimized for software development tasks
- This model provides the best balance of speed and capability for code generation
- Additional models will be available in future releases

:::note
Note: The model selection is currently managed by Okteto to ensure optimal performance. Custom model selection will be added in a future update.
:::

### Step 6: Set Up Git Integration
Configure Git integration to enable agents to create pull requests and manage code:

1. **Generate Token**:
  - Click "Generate a new GitHub token →"
  - You'll be redirected to GitHub (or continue to your Git provider)
  - Create a token with these permissions:
    - repo (full repository access)
    - workflow (Update GitHub Action workflows)
    - read:user (read user profile)


2. **Configure Token**:
- Copy the generated token from your git provider
- Click on Configure (Update if you previously had one configured) and paste it in the Git Token field
- Click on save

**Supported Git Providers**:
- GitHub
- GitLab
- Bitbucket (coming soon)


### Step 7: Verify Configuration
After completing setup:

1. Launch Test Agent:
- Create a simple test agent to verify full functionality
- Example: "Create a hello world Python script"


2. Check User Access:
- Verify the Agents tab appears for authorized users


## Configuration Best Practices
### API Key Management
- Rotate keys regularly: Change API keys every 90 days
- Use separate keys: Don't share keys between environments
- Monitor usage: Track token consumption and costs
- Set alerts: Configure notifications for high usage patterns in Anthropic

### Access Control

- Start small: Begin with selected users during initial rollout
- Train users: Provide guidelines before granting access
- Review regularly: Audit user access monthly
- Document policies: Create clear usage guidelines

## Cost Management
### For Anthropic Direct:

- Monitor token usage in your Anthropic dashboard
- Set spending limits if available
- Consider prepaid credits for predictable costs

### For Amazon Bedrock:

- Use AWS Cost Explorer to track Bedrock usage
- Set up AWS Budgets for cost alerts
- Consider Reserved Capacity for consistent workloads

## Troubleshooting
### Common Issues

**Users Can't See Agents Tab**

- Confirm user is in selected users list
- Have user log out and back in
- Clear browser cache

**Git Integration Not Working**

- Verify token has correct permissions
- Check token hasn't expired
- Ensure repository access is configured
- Ensure you are using one of the supported providers (GitHub or GitLab)

## Getting Help

- Contact support at support@okteto.com
- Join Okteto Community for discussions

## Security Considerations
### API Key Security

- Store API keys that you wish to share with Agents securely using Okteto's [Admin Variables](admin/dashboard.mdx#admin-variables)
- Never share API keys in code or documentation
- Use environment-specific keys (dev, staging, prod)
- Enable API key access logs where available


### Compliance

- Review your organization's AI usage policies
- Ensure compliance with data residency requirements
- Document AI usage for audit purposes
- Consider GDPR/CCPA implications for generated code



### Next Steps
After configuration:

Create Usage Guidelines: Document best practices for your team
Run Training Sessions: Help users understand effective prompting
Plan Rollout: Phase adoption across teams
Gather Feedback: Create channels for user feedback