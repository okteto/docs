---
title: External Resources
description: Configure Okteto's manifest to show external resources in your development environment
sidebar_label: External Resources
id: external-resources
---

import Image from '@theme/Image';

The External Resources feature in Okteto is a powerful mechanism that enables you to manage the lifecycle of cloud external resources as part of your Okteto development environment. This means you can define the external resources that comprise your application, include those resources in Okteto's garbage collection process, and even destroy those resources when you finish working with your development environment.

You no longer need to use different tools to work on your application in Okteto and you won't need to worry about rogue external resources continuing to run once you are done with your work.

When you configure External Resources in Okteto you can see those resources within the Okteto UI, can click to go directly to those resources in their respective platform, and include them in your Okteto `deploy` and `destroy` configurations.

## Overview

When you configure the `external` section in your [Okteto manifest](/reference/manifest), keep in mind the following:

- You can create an image that includes your desired external (to Okteto) resources you'd like to use for your application
- This image can be included in your Okteto manifest's `deploy` and `destroy` sections
- External resources are deleted when your Okteto namespace is deleted
- External resources are covered by Okteto's garbage collection process

## Configuring the `external` section

Let's take a look at the composition of the `external` section in the Okteto manifest starting with the high-level structure of this configuration block. There are some important details you need to know before using this feature.

Here's an example of how to define your `external` resources in the Okteto manifest, which you can see in our [References section](/reference/manifest/#external-object-optional):

```yaml
external:
  db:
    notes: docs/database.md
    icon: database
    endpoints:
    - name: db
      url: https://localhost:3306
  functions:
    notes: docs/lambdas.md
    icon: function
    endpoints:
    - name: data-aggregator
      url: https://fake-id.lambda-url.us-east-1.on.aws.aggregator
    - name: data-processor
      url: https://fake-id.lambda-url.us-east-1.on.aws.processor
```

> You can also use the [dynamic endpoints](/reference/manifest/#use-dynamic-endpoints-for-an-external-url) feature here to provide more flexibility in the URLs.

Every keyword that you see here is opinionated except for `db:` and `functions:`. Those two keywords, the names of the external resources being defined here, can be anything you want them to be. For example, if we want to call the `db:` resource `dundie_award:` you can do so. Similarly, you could name `functions:` something like `parkour:` and it will work just fine.

Whatever name you use to label these resources will be what's shown in the Okteto UI. Choose wisely!

## Defining Your External Resources

As you configure your external resources in this section, keep in mind the following definitions:

`notes:` is used to provide context in the form of a relative link to a markdown file. The contents are displayed in the Okteto UI (see below).

<p align="center"><Image src="/docs/cloud/images/external_resource_notes.png" alt="External resources notes section" width="450" /></p>

`icon:` specifies one of several predefined icons you can use when this resource is rendered in the Okteto UI. The current list of supported icons is:

- container
- dashboard
- database
- default
- function
- graph
- storage

<p align="center"><Image src="/docs/cloud/images/external_resource_list.png" alt="External resources listed in dev environment" width="450" /></p>

`endpoints:` contain information on how to access the external resource using:

- `name:` to name the endpoint you're defining
- `url:` to provide the specific url for accessing the resource

The name of the endpoint is used to inject or modify environment variables. In this example, one of those would be: `OKTETO_EXTERNAL_FUNCTIONS_ENDPOINTS_DATA_AGGREGATOR_URL`.

All of this information can be found and in a more concise format in our [References section](/reference/manifest/#external-object-optional).

## Example: Deploy a Development Environment with External Resources

Now that we've walked through a sample of an `external` configuration, let's look at using this within the broader context of an application we're working on. You can navigate to our [demo repo](https://github.com/okteto/voting-app-with-external-resources) to follow along if you'd like.

In this example we'll be configuring and deploying a development environment that includes polyglot microservices and two external resources: an AWS lambda function and MongoDB Atlas for storage.

<p align="center"><Image src="/docs/cloud/images/video_app_architecture.png" alt="Application architecture diagram" width="450" /></p>

### Prerequisites

1. Okteto CLI 2.13 or newer
2. An AWS account
3. A [MongoDB Atlas](https://www.mongodb.com/docs/atlas/getting-started/) account
4. [Deploy a free cluster](https://www.mongodb.com/docs/atlas/tutorial/deploy-free-tier-cluster/) in your MongoDB Atlas account
5. Create a set of IAM keys for your AWS account
6. Create the following Okteto secrets:
   - MONGODB_USERNAME: Your MongoDB Atlas username
   - MONGODB_PASSWORD: Your MongoDB Atlas username
   - MONGODB_HOST: The URL of your MongoDB Atlas cluster
   - MONGODB_WEBURL: The Web URL of your MongoDB Atlas cluster
   - AWS_ACCESS_KEY_ID: The Acces Key ID of your IAM user
   - AWS_SECRET_ACCESS_KEY: The Secret Acces Key of your IAM user
   
Notice that the `external` configuration is a bit different in this demo:

```yaml
external:
  lambda:
    icon: function
    notes: docs/lambda.md
    endpoints:
    - name: function
  atlas:
    icon: database
    notes: docs/atlas.md
    endpoints:
    - name: dashboard
```

The `url:` keys are missing from each external resource (`lambda` and `atlas`) because they've been defined in the `deploy` > `commands` > `command` section using the [Okteto Secrets](/cloud/secrets) you defined [above](#prerequisites) and the [dynamic endpoints](/reference/manifest/#use-dynamic-endpoints-for-an-external-url) feature.

Alternatively, you could remove the respective `deploy` commands and add the `url` endpoints here manually, but this is a good example of how flexible the manifest file can be.

Once you've configured the prerequisites, you can deploy this on your Okteto instance:

```
$ git clone https://github.com/okteto/voting-app-with-external-resources
$ cd voting-app-with-external-resources
$ okteto context use $OKTETO_URL
$ okteto deploy
```

Once the application has been deployed in Okteto, you can work on the `Result` microservice by running the command: `okteto up result`. Similarly, you can work on the `Vote` microservice by running the command: `okteto up vote`.