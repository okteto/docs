---
title: Okteto Manifest
description: An overview of the Okteto Manifest and its core features.
sidebar_label: Overview
id: overview-manifest
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

The Okteto Manifest is how you configure the behavior for building, deploying, and developing Development Environments in Okteto.

> Follow [this tutorial](deploy-your-app/index.mdx) to configure your first Okteto Manifest.

The following sections of the Okteto Manifest define how your Development Environments behave:

| Section                       | Description                                                                                                                                                                                 |
| ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [build](#build)               | Configure a list of images to build for your Development Environment                                                                                                                        |
| [deploy](#deploy)             | Configure a list of commands to deploy your Development Environment. You can also refer to [Docker Compose](reference/okteto-manifest.mdx#deploy-with-docker-compose) files                                                                                                                         |
| [dependencies](#dependencies) | Configure a list of list of git repositories to deploy as part of your Development Environment                                                                                              |
| [destroy](#destroy)           | Configure a list of commands to destroy your Development Environment                                                                                                                        |
| [dev](#dev)                   | Configure a list of Development Containers to define how `okteto up` works when you are iterating on your application                               |
| [external](#external)         | Configure a list of External Resources that exist outside of the Kubernetes cluster (e.g. cloud resources, dashboards).               |

There are other sections to help you build your ideal development experience in Okteto, but this document focuses solely on introducing you to the core concepts of the Okteto Manifest. You can learn more about the other Okteto Manifest options in the [manifest reference](reference/okteto-manifest.mdx).

## Build

This section contains the instructions for Okteto to build the images for each service in your Development Environment.
You can specify a specific subfolder for the image build context and use other configuration options to customize how your images are built.

Your `build` section might look like this:

```yaml
build:
  base:
    context: .
  api:
    context: api
  frontend:
    context: frontend
    dockerfile: Dockerfile
    target: dev
    depends_on: base
    args:
      SOURCE_IMAGE: ${OKTETO_BUILD_BASE_IMAGE}
    secrets:
      npmrc: .npmrc
```

This configuration defines images to be built for three services: `base`, `api`, and `frontend`. It also defines a `context` for each image, which tells Okteto which folder/subfolder to use for building each container image.
In this case, Okteto is using the current folder for the `base` image, the `api` subfolder for the `api` image, and the `frontend` subfolder for the `frontend` image.

You can learn more about other `build` parameters [here](reference/okteto-manifest.mdx#build-object-optional).

## Deploy

This section tells Okteto how to deploy your Development Environment. It typically uses a combination of `helm`, `kubectl`, and `okteto` commands. You can execute multiple commands and label each command with a name.

Your `deploy` section might look like this:

```yaml
deploy:
  - name: Deploy PostgreSQL
    command: helm upgrade --install postgresql postgresql/postgresql-11.6.21.tgz -f postgresql/values.yml --version 11.6.21
  - name: Deploy Frontend
    command: helm upgrade --install frontend frontend/chart --set image=${OKTETO_BUILD_FRONTEND_IMAGE}
  - name: Deploy API
    command: helm upgrade --install api api/chart --set image=${OKTETO_BUILD_API_IMAGE} --set load=${API_LOAD_DATA:-true}
```

In this sample the `deploy` section instructs Okteto to execute three commands: deploy a postgresql database, deploy the `frontend` image (using an environment variable), and deploy the `api` image (also using environment variables).

You can learn more about the `deploy` section [here](reference/okteto-manifest.mdx#deploy-string-optional).

## Dependencies

This section tells Okteto to deploy a list of git repositories as part of your Development Environment.

Your `dependencies` section might look like this:

```yaml
dependencies:
  mongodb:
    repository: https://github.com/okteto/mongodb
    wait: true
```

In this sample the `dependencies` section instructs Okteto to deploy the repo https://github.com/okteto/mongodb and wait until its resources are available before running the commands in the `deploy` section of the Okteto Manifest.

You can learn more about the `dependencies` section [here](reference/okteto-manifest.mdx#dependencies-string-optional).

## Destroy

This section tells Okteto how to destroy your Development Environment.
The Okteto CLI command `okteto destroy` will automatically destroy any Kubernetes resources created by the `okteto deploy` command.
The commands you define in the `destroy` section will ensure any resources external to the Kubernetes cluster are destroyed when destroying the Development Environment.

Your `destroy` section might look like this:

```yaml
destroy:
  image: okteto/pipeline-runner:1.0.0-sam
  commands:
    - name: destroy worker service
      command: |
        sam delete --no-prompts --stack-name "${OKTETO_NAMESPACE}-voting-texkhnclxd" --region us-east-1
```

In this sample the `destroy` section instructs Okteto to delete the worker service running in AWS. When the Development Environment is deleted, Okteto will execute this command ensuring orphaned resources don't remain active.

You can learn more about the `destroy` section [here](reference/okteto-manifest.mdx#deploy-string-optional).

## External

This section contains a list of resources external to the Kubernetes cluster such as cloud resources or dashboards, but that are part of your Development Environment. Configuring your external resources enables you to build a more complete development experience in Okteto.

Your `external` section might look like this:

```yaml
external:
  readme:
    icon: okteto
    notes: README.md
    endpoints:
      - name: Try it out!
        url: https://github.com/okteto/voting-app-with-external-resources
  lambda:
    icon: aws
    notes: docs/lambda.md
    endpoints:
      - name: function
```

This section provides only the metadata to represent and link to external resources in the Okteto UI and does not create any resources in a cloud provider. Creating or destroying the resources themselves is done in the [deploy](#deploy) and [destroy](#destroy) sections, respectively.

You can learn more about the `external` section [here](reference/okteto-manifest.mdx#external-object-optional).

## Dev

This section contains a list of Development Containers that determine how the Okteto CLI and, specifically, the `okteto up` command behave. This section is how Okteto hot reloads and debug the code between your local computer and your Development Environment.

Your `dev` section might look like this:

```yaml
dev:
  api:
    command: ["bash"]
    forward:
      - 8080:8080
      - 9229:9229
    sync:
      - api:/usr/src/app
  frontend:
    command: yarn start
    sync:
      - frontend:/usr/src/app
```

In this sampple, the `api` section will tell Okteto to create a Development Container that exists specifically to sync code between your local computer and the **api** Kubernetes Deployment so you can see your changes in real-time within a production-like environment.

You can learn more about the `dev` section [here](reference/okteto-manifest.mdx#dev-object-optional).

### Using the Okteto CLI

Okteto will create a Development Environment with all the resources defined in your Okteto Manifest. When you start working on any of these services you'll use the `okteto up` command. When issuing this command, you'll be presented with terminal output that looks like this:

```console
Using cindylopez @ okteto.example.com as context
'Movies App' was already deployed. To redeploy run 'okteto deploy' or 'okteto up --deploy'
Select which development container to activate:
Use the arrow keys to navigate: ↓ ↑ → ←
  ▸ api
    frontend
```

In our [example](#dev) above, selecting the `api` service from this prompt tells Okteto to create a Development Container for the **api** Kubernetes Deployment where your local filesystem is synched on the container path `/usr/src/app`.
